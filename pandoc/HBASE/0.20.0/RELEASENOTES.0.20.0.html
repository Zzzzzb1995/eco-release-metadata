<!---
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
-->
<h1 id="apache-hbase-0.20.0-release-notes">Apache HBase 0.20.0 Release Notes</h1>
<p>These release notes cover new developer and user-facing incompatibilities, important issues, features, and major improvements.</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1144">HBASE-1144</a> | <em>Major</em> | <strong>Store the ROOT region location in Zookeeper</strong></li>
</ul>
<p><strong>WARNING: No release note provided for this change.</strong></p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-61">HBASE-61</a> | <em>Blocker</em> | <strong>[hbase] Create an HBase-specific MapFile implementation</strong></li>
</ul>
<p><strong>WARNING: No release note provided for this change.</strong></p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-859">HBASE-859</a> | <em>Blocker</em> | <strong>HStoreKey needs a reworking</strong></li>
</ul>
<p><strong>WARNING: No release note provided for this change.</strong></p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1217">HBASE-1217</a> | <em>Major</em> | <strong>add new compression and hfile blocksize to HColumnDescriptor</strong></li>
</ul>
<p><strong>WARNING: No release note provided for this change.</strong></p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1231">HBASE-1231</a> | <em>Trivial</em> | <strong>Today, going from a RowResult to a BatchUpdate reqiures some data processing even though they are pretty much the same thing.</strong></li>
</ul>
<p>Patch is adding a new constructor for BatchUpdate.</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1145">HBASE-1145</a> | <em>Major</em> | <strong>Ensure that there is only 1 Master with Zookeeper (part of HA Master)</strong></li>
</ul>
<p><strong>WARNING: No release note provided for this change.</strong></p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1289">HBASE-1289</a> | <em>Major</em> | <strong>Remove &quot;hbase.fully.distributed&quot; option and update docs</strong></li>
</ul>
<p><strong>WARNING: No release note provided for this change.</strong></p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1157">HBASE-1157</a> | <em>Major</em> | <strong>If we do not take start code as a part of region server recovery, we could inadvertantly try to reassign regions assigned to a restarted server with a different start code</strong></li>
</ul>
<p>Part of region server death recovery depends on knowing which instance (start code) of the server being recovered.</p>
<p>If we allow a new instance to join the cluster immediately (desirable) then we must know the difference between regions served by a previous instance of a server with the same ipaddress:port and the current instance. We need to have the information about the startcode to know the difference.</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1331">HBASE-1331</a> | <em>Major</em> | <strong>Lower the default scanner caching value</strong></li>
</ul>
<p>The default hbase.client.scanner.caching is now 1, not 30.</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1301">HBASE-1301</a> | <em>Minor</em> | <strong>HTable.getRow() returns null if the row does no exist</strong></li>
</ul>
<p>Fix API doc of HTable.getRow (non-existent row key returns null instead of empty RowResult)</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1292">HBASE-1292</a> | <em>Minor</em> | <strong>php thrift's getRow() would throw an exception if the row does not exist</strong></li>
</ul>
<p>thrift's getRow*() now throws NotFound if the row key does not exist</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1348">HBASE-1348</a> | <em>Blocker</em> | <strong>Move 0.20.0 targeted TRUNK to 0.20.0 hadoop</strong></li>
</ul>
<p><strong>WARNING: No release note provided for this change.</strong></p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1342">HBASE-1342</a> | <em>Major</em> | <strong>Add to filesystem info needed to rebuild .META.</strong></li>
</ul>
<p><strong>WARNING: No release note provided for this change.</strong></p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1279">HBASE-1279</a> | <em>Major</em> | <strong>Fix the way hostnames and IPs are handled</strong></li>
</ul>
<p>To tell HBase how to use your DNS configuration, set hbase.regionserver.dns.interface and hbase.regionserver.dns.nameserver in hbase-site.xml just like in hadoop-site.xml</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1361">HBASE-1361</a> | <em>Major</em> | <strong>Disable bloom filters</strong></li>
</ul>
<p><strong>WARNING: No release note provided for this change.</strong></p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1367">HBASE-1367</a> | <em>Major</em> | <strong>get rid of thrift exception 'NotFound'</strong></li>
</ul>
<p><strong>WARNING: No release note provided for this change.</strong></p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1286">HBASE-1286</a> | <em>Major</em> | <strong>Thrift should support next(nbRow) like functionality</strong></li>
</ul>
<p>We will need to regenerate the hbase/thrift/generated directory</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1264">HBASE-1264</a> | <em>Minor</em> | <strong>Wrong return values of comparators for ColumnValueFilter</strong></li>
</ul>
<p>Patch fixes the return values of org.apache.hadoop.hbase.filter.RegexStringComparator.compareTo()</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1454">HBASE-1454</a> | <em>Minor</em> | <strong>HBaseAdmin.getClusterStatus</strong></li>
</ul>
<p><strong>WARNING: No release note provided for this change.</strong></p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1357">HBASE-1357</a> | <em>Major</em> | <strong>If one sets the hbase.master to 0.0.0.0 non local regionservers can't find the master</strong></li>
</ul>
<p>hbase.master and hbase.master.hostname are now obsolete. hbase.cluster.distributed must be set at &quot;true&quot; to have a fully-distributed setup along with at least one configured ZK server which is not pointing at localhost. Also, zoo.cfg must be in the classpath of every client.</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1304">HBASE-1304</a> | <em>Blocker</em> | <strong>New client server implementation of how gets and puts are handled.</strong></li>
</ul>
<p>New API - Scan, Get. New result class 'Result'. Some old API methods may have been removed.<br />
Old filters are semi-broken - any row-based filtering works, but complex column filtering options don't.</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1495">HBASE-1495</a> | <em>Major</em> | <strong>IllegalArgumentException in halfhfilereader#next</strong></li>
</ul>
<p>Fixed by HBASE-1520, HBASE-1522</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1578">HBASE-1578</a> | <em>Major</em> | <strong>Change the name of the in-memory updates from 'memcache' to 'memtable' or....</strong></li>
</ul>
<p>Settings whose names contained 'memcache' are now renamed so there name includes 'memstore' instead. Update your hbase-site.xml.</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1563">HBASE-1563</a> | <em>Major</em> | <strong>incrementColumnValue does not write to WAL</strong></li>
</ul>
<p>Adds new API with flag to incrementColumnValue for whether or not to write WAL</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1581">HBASE-1581</a> | <em>Major</em> | <strong>Run major compaction on .META. when table is dropped or truncated</strong></li>
</ul>
<p>Each drop table now runs a major compaction of '.META.' table. User probably won't even notice as it runs quickly.</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1460">HBASE-1460</a> | <em>Major</em> | <strong>Concurrent LRU Block Cache</strong></li>
</ul>
<p>hfile.block.cache.size is not a percentage of total heap rather than absolute number</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1586">HBASE-1586</a> | <em>Major</em> | <strong>Bring back transactions and indexing for 0.20</strong></li>
</ul>
<p>Moved transactional hbase and tableindexed hbase to src/contrib/transactional</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1582">HBASE-1582</a> | <em>Major</em> | <strong>Translate ColumnValueFilter and RowFilterSet to the new Filter interface</strong></li>
</ul>
<p><strong>WARNING: No release note provided for this change.</strong></p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1599">HBASE-1599</a> | <em>Major</em> | <strong>Fix TestFilterSet, broken up on hudson</strong></li>
</ul>
<p>Recast FilterSet as a FilterList</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1626">HBASE-1626</a> | <em>Major</em> | <strong>Allow emitting Deletes out of new TableReducer</strong></li>
</ul>
<p>Undoes alot of the stipulation regards types coming out of TableMapper and in and out of TableReducer going into TableOutputFormat. See javadoc.</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-698">HBASE-698</a> | <em>Blocker</em> | <strong>HLog recovery is not performed after master failure</strong></li>
</ul>
<p>Old setups running 0.19 should first delete everything that's log_* in HBase root HDFS folder before updating. Make sure HBase is down before doing that. Also this will be done by migration in 0.20.0</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1583">HBASE-1583</a> | <em>Major</em> | <strong>Start/Stop of large cluster untenable</strong></li>
</ul>
<p>No compaction on disable or shutdown of cluster. No disable on open or enable unless the region has references.</p>
<hr />
<ul>
<li><a href="https://issues.apache.org/jira/browse/HBASE-1609">HBASE-1609</a> | <em>Major</em> | <strong>[part of hbase-1583] We wait on leases to expire before regionserver goes down. Rather, just let client fail</strong></li>
</ul>
<p>No more trying to be sweet to clients. If admin wants cluster to go down, we go down and let the clients each EOFExceptions (because RPC was cutoff midways) and failed connect type exceptions. Puts take out a row lock so should make it in before their Region closes (though if part of a batch, all in batch are not guaranteed to make it in)</p>
