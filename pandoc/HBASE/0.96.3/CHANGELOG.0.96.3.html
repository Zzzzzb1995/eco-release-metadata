<!---
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
-->
<h1 id="apache-hbase-changelog">Apache HBase Changelog</h1>
<h2 id="release-0.96.3---unreleased-as-of-2016-09-08">Release 0.96.3 - Unreleased (as of 2016-09-08)</h2>
<h3 id="incompatible-changes">INCOMPATIBLE CHANGES:</h3>
<table style="width:49%;">
<colgroup>
<col width="8%" />
<col width="8%" />
<col width="6%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">JIRA</th>
<th align="left">Summary</th>
<th align="left">Priority</th>
<th align="left">Component</th>
<th align="left">Reporter</th>
<th align="left">Contributor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10964">HBASE-10964</a></td>
<td align="left">Delete mutation is not consistent with Put wrt timestamp</td>
<td align="left">Major</td>
<td align="left">Client</td>
<td align="left">Anoop Sam John</td>
<td align="left">Anoop Sam John</td>
</tr>
</tbody>
</table>
<h3 id="improvements">IMPROVEMENTS:</h3>
<table style="width:49%;">
<colgroup>
<col width="8%" />
<col width="8%" />
<col width="6%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">JIRA</th>
<th align="left">Summary</th>
<th align="left">Priority</th>
<th align="left">Component</th>
<th align="left">Reporter</th>
<th align="left">Contributor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10797">HBASE-10797</a></td>
<td align="left">Add support for -h and --help to rolling_restart.sh and fix the usage string output</td>
<td align="left">Trivial</td>
<td align="left">Operability</td>
<td align="left">stack</td>
<td align="left">stack</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10950">HBASE-10950</a></td>
<td align="left">Add a configuration point for MaxVersion of Column Family</td>
<td align="left">Major</td>
<td align="left">Admin, Usability</td>
<td align="left">Demai Ni</td>
<td align="left">Enoch Hsu</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11008">HBASE-11008</a></td>
<td align="left">Align bulk load, flush, and compact to require Action.CREATE</td>
<td align="left">Major</td>
<td align="left">security</td>
<td align="left">Jean-Daniel Cryans</td>
<td align="left">Jean-Daniel Cryans</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11119">HBASE-11119</a></td>
<td align="left">Update ExportSnapShot to optionally not use a tmp file on external file system</td>
<td align="left">Minor</td>
<td align="left">snapshots</td>
<td align="left">Ted Malaska</td>
<td align="left">Ted Malaska</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11128">HBASE-11128</a></td>
<td align="left">Add -target option to ExportSnapshot to export with a different name</td>
<td align="left">Trivial</td>
<td align="left">snapshots</td>
<td align="left">Matteo Bertozzi</td>
<td align="left">Matteo Bertozzi</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11134">HBASE-11134</a></td>
<td align="left">Add a -list-snapshots option to SnapshotInfo</td>
<td align="left">Trivial</td>
<td align="left">snapshots</td>
<td align="left">Matteo Bertozzi</td>
<td align="left">Matteo Bertozzi</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-6990">HBASE-6990</a></td>
<td align="left">Pretty print TTL</td>
<td align="left">Minor</td>
<td align="left">Usability</td>
<td align="left">Jean-Daniel Cryans</td>
<td align="left">Esteban Gutierrez</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11480">HBASE-11480</a></td>
<td align="left">ClientScanner might not close the HConnection created in construction</td>
<td align="left">Trivial</td>
<td align="left">Client, Scanners</td>
<td align="left">Jianwei Cui</td>
<td align="left">Jianwei Cui</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-2217">HBASE-2217</a></td>
<td align="left">VM OPTS for shell only</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">stack</td>
<td align="left">Andrew Purtell</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-7910">HBASE-7910</a></td>
<td align="left">Dont use reflection for security</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Enis Soztutar</td>
<td align="left">Mike Drob</td>
</tr>
</tbody>
</table>
<h3 id="bug-fixes">BUG FIXES:</h3>
<table style="width:49%;">
<colgroup>
<col width="8%" />
<col width="8%" />
<col width="6%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">JIRA</th>
<th align="left">Summary</th>
<th align="left">Priority</th>
<th align="left">Component</th>
<th align="left">Reporter</th>
<th align="left">Contributor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10805">HBASE-10805</a></td>
<td align="left">Speed up KeyValueHeap.next() a bit</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Lars Hofhansl</td>
<td align="left">Lars Hofhansl</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10829">HBASE-10829</a></td>
<td align="left">Flush is skipped after log replay if the last recovered edits file is skipped</td>
<td align="left">Critical</td>
<td align="left">.</td>
<td align="left">Enis Soztutar</td>
<td align="left">Enis Soztutar</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10809">HBASE-10809</a></td>
<td align="left">HBaseAdmin#deleteTable fails when META region happen to move around same time</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Jeffrey Zhong</td>
<td align="left">Jeffrey Zhong</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10862">HBASE-10862</a></td>
<td align="left">Update config field names in hbase-default.xml description for hbase.hregion.memstore.block.multiplier</td>
<td align="left">Trivial</td>
<td align="left">documentation</td>
<td align="left">Albert Chu</td>
<td align="left">Albert Chu</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10848">HBASE-10848</a></td>
<td align="left">Filter SingleColumnValueFilter combined with NullComparator does not work</td>
<td align="left">Major</td>
<td align="left">Filters</td>
<td align="left">Fabien Le Gallo</td>
<td align="left">Fabien Le Gallo</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10879">HBASE-10879</a></td>
<td align="left">user_permission shell command on namespace doesn't work</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Ted Yu</td>
<td align="left">Ted Yu</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10830">HBASE-10830</a></td>
<td align="left">Integration test MR jobs attempt to load htrace jars from the wrong location</td>
<td align="left">Minor</td>
<td align="left">.</td>
<td align="left">Andrew Purtell</td>
<td align="left">Nick Dimiduk</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10850">HBASE-10850</a></td>
<td align="left">essential column family optimization is broken</td>
<td align="left">Blocker</td>
<td align="left">Coprocessors, Filters, Performance</td>
<td align="left">Fabien Le Gallo</td>
<td align="left">Ted Yu</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10903">HBASE-10903</a></td>
<td align="left">HBASE-10740 regression; cannot pass commands for zk to run</td>
<td align="left">Major</td>
<td align="left">Zookeeper</td>
<td align="left">stack</td>
<td align="left">stack</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10118">HBASE-10118</a></td>
<td align="left">Major compact keeps deletes with future timestamps</td>
<td align="left">Minor</td>
<td align="left">Compaction, Deletes, regionserver</td>
<td align="left">Max Lapan</td>
<td align="left">Liu Shaohui</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10895">HBASE-10895</a></td>
<td align="left">unassign a region fails due to the hosting region server is in FailedServerList</td>
<td align="left">Major</td>
<td align="left">Region Assignment</td>
<td align="left">Jeffrey Zhong</td>
<td align="left">Jeffrey Zhong</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10967">HBASE-10967</a></td>
<td align="left">CatalogTracker.waitForMeta should not wait indefinitely silently</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Jean-Daniel Cryans</td>
<td align="left">Jean-Daniel Cryans</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10533">HBASE-10533</a></td>
<td align="left">commands.rb is giving wrong error messages on exceptions</td>
<td align="left">Major</td>
<td align="left">shell</td>
<td align="left">rajeshbabu</td>
<td align="left">rajeshbabu</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10966">HBASE-10966</a></td>
<td align="left">RowCounter misinterprets column names that have colons in their qualifier</td>
<td align="left">Trivial</td>
<td align="left">.</td>
<td align="left">Alexandre Normand</td>
<td align="left">Alexandre Normand</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10845">HBASE-10845</a></td>
<td align="left">Memstore snapshot size isn't updated in DefaultMemStore#rollback()</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Ted Yu</td>
<td align="left">Ted Yu</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10979">HBASE-10979</a></td>
<td align="left">Fix AnnotationReadingPriorityFunction &quot;scan&quot; handling</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Matteo Bertozzi</td>
<td align="left">Matteo Bertozzi</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10312">HBASE-10312</a></td>
<td align="left">Flooding the cluster with administrative actions leads to collapse</td>
<td align="left">Critical</td>
<td align="left">.</td>
<td align="left">Andrew Purtell</td>
<td align="left">Jean-Daniel Cryans</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11011">HBASE-11011</a></td>
<td align="left">Avoid extra getFileStatus() calls on Region startup</td>
<td align="left">Minor</td>
<td align="left">regionserver</td>
<td align="left">Matteo Bertozzi</td>
<td align="left">Matteo Bertozzi</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11030">HBASE-11030</a></td>
<td align="left">HBaseTestingUtility.getMiniHBaseCluster should be able to return null</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Lars Hofhansl</td>
<td align="left">Lars Hofhansl</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11049">HBASE-11049</a></td>
<td align="left">HBase WALPlayer needs to add credentials to job to play to table</td>
<td align="left">Minor</td>
<td align="left">mapreduce</td>
<td align="left">Jerry He</td>
<td align="left">Jerry He</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11038">HBASE-11038</a></td>
<td align="left">Filtered scans can bypass metrics collection</td>
<td align="left">Minor</td>
<td align="left">Scanners</td>
<td align="left">Nick Dimiduk</td>
<td align="left">Nick Dimiduk</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11061">HBASE-11061</a></td>
<td align="left">Port HBASE-10948 Fix hbase table file 'x' mode to 0.96 / 0.98</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Ted Yu</td>
<td align="left">Jerry He</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10958">HBASE-10958</a></td>
<td align="left">[dataloss] Bulk loading with seqids can prevent some log entries from being replayed</td>
<td align="left">Blocker</td>
<td align="left">.</td>
<td align="left">Jean-Daniel Cryans</td>
<td align="left">Jean-Daniel Cryans</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11133">HBASE-11133</a></td>
<td align="left">Add an option to skip snapshot verification after Export</td>
<td align="left">Trivial</td>
<td align="left">snapshots</td>
<td align="left">Matteo Bertozzi</td>
<td align="left">Matteo Bertozzi</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11169">HBASE-11169</a></td>
<td align="left">nit: fix incorrect javadoc in OrderedBytes about BlobVar and BlobCopy</td>
<td align="left">Trivial</td>
<td align="left">util</td>
<td align="left">Jonathan Hsieh</td>
<td align="left">Jonathan Hsieh</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11149">HBASE-11149</a></td>
<td align="left">Wire encryption is broken</td>
<td align="left">Major</td>
<td align="left">IPC/RPC</td>
<td align="left">Devaraj Das</td>
<td align="left">Devaraj Das</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11234">HBASE-11234</a></td>
<td align="left">FastDiffDeltaEncoder#getFirstKeyInBlock returns wrong result</td>
<td align="left">Critical</td>
<td align="left">.</td>
<td align="left">chunhui shen</td>
<td align="left">chunhui shen</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11255">HBASE-11255</a></td>
<td align="left">Negative request num in region load</td>
<td align="left">Minor</td>
<td align="left">.</td>
<td align="left">Liu Shaohui</td>
<td align="left">Liu Shaohui</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11277">HBASE-11277</a></td>
<td align="left">RPCServer threads can wedge under high load</td>
<td align="left">Critical</td>
<td align="left">.</td>
<td align="left">Andrew Purtell</td>
<td align="left">Andrew Purtell</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11433">HBASE-11433</a></td>
<td align="left">LruBlockCache does not respect its configurable parameters</td>
<td align="left">Major</td>
<td align="left">regionserver</td>
<td align="left">Shengzhe Yao</td>
<td align="left">Shengzhe Yao</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11335">HBASE-11335</a></td>
<td align="left">Fix the TABLE_DIR param in TableSnapshotInputFormat</td>
<td align="left">Major</td>
<td align="left">mapreduce, snapshots</td>
<td align="left">deepankar</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11496">HBASE-11496</a></td>
<td align="left">HBASE-9745 broke cygwin CLASSPATH translation</td>
<td align="left">Minor</td>
<td align="left">.</td>
<td align="left">Dave Latham</td>
<td align="left">Dave Latham</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11547">HBASE-11547</a></td>
<td align="left">Backport HBASE-11052 to 0.96 'Sending random data crashes thrift service'</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Ted Yu</td>
<td align="left">Adrian Muraru</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11565">HBASE-11565</a></td>
<td align="left">Stale connection could stay for a while</td>
<td align="left">Major</td>
<td align="left">Client</td>
<td align="left">Jimmy Xiang</td>
<td align="left">Jimmy Xiang</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11558">HBASE-11558</a></td>
<td align="left">Caching set on Scan object gets lost when using TableMapReduceUtil in 0.95+</td>
<td align="left">Major</td>
<td align="left">mapreduce, Scanners</td>
<td align="left">Ishan Chhabra</td>
<td align="left">Ishan Chhabra</td>
</tr>
</tbody>
</table>
<h3 id="tests">TESTS:</h3>
<table style="width:49%;">
<colgroup>
<col width="8%" />
<col width="8%" />
<col width="6%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">JIRA</th>
<th align="left">Summary</th>
<th align="left">Priority</th>
<th align="left">Component</th>
<th align="left">Reporter</th>
<th align="left">Contributor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10543">HBASE-10543</a></td>
<td align="left">Two rare test failures with TestLogsCleaner and TestSplitLogWorker</td>
<td align="left">Minor</td>
<td align="left">.</td>
<td align="left">Jimmy Xiang</td>
<td align="left">Jimmy Xiang</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10782">HBASE-10782</a></td>
<td align="left">Hadoop2 MR tests fail occasionally because of mapreduce.jobhistory.address is no set in job conf</td>
<td align="left">Minor</td>
<td align="left">.</td>
<td align="left">Liu Shaohui</td>
<td align="left">Liu Shaohui</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10988">HBASE-10988</a></td>
<td align="left">Properly wait for server in TestThriftServerCmdLine</td>
<td align="left">Minor</td>
<td align="left">test</td>
<td align="left">Lars Hofhansl</td>
<td align="left">Lars Hofhansl</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11010">HBASE-11010</a></td>
<td align="left">TestChangingEncoding is unnecessarily slow</td>
<td align="left">Minor</td>
<td align="left">test</td>
<td align="left">Lars Hofhansl</td>
<td align="left">Lars Hofhansl</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11022">HBASE-11022</a></td>
<td align="left">Increase timeout for TestHBaseFsck.testSplitDaughtersNotInMeta</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Lars Hofhansl</td>
<td align="left">Lars Hofhansl</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-11037">HBASE-11037</a></td>
<td align="left">Race condition in TestZKBasedOpenCloseRegion</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Lars Hofhansl</td>
<td align="left">Lars Hofhansl</td>
</tr>
</tbody>
</table>
<h3 id="sub-tasks">SUB-TASKS:</h3>
<table style="width:49%;">
<colgroup>
<col width="8%" />
<col width="8%" />
<col width="6%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">JIRA</th>
<th align="left">Summary</th>
<th align="left">Priority</th>
<th align="left">Component</th>
<th align="left">Reporter</th>
<th align="left">Contributor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10561">HBASE-10561</a></td>
<td align="left">Forward port: HBASE-10212 New rpc metric: number of active handler</td>
<td align="left">Major</td>
<td align="left">IPC/RPC</td>
<td align="left">Lars Hofhansl</td>
<td align="left">Liang Xie</td>
</tr>
<tr class="even">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10936">HBASE-10936</a></td>
<td align="left">Add zeroByte encoding test</td>
<td align="left">Minor</td>
<td align="left">test</td>
<td align="left">Lars Hofhansl</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<h3 id="other">OTHER:</h3>
<table style="width:49%;">
<colgroup>
<col width="8%" />
<col width="8%" />
<col width="6%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">JIRA</th>
<th align="left">Summary</th>
<th align="left">Priority</th>
<th align="left">Component</th>
<th align="left">Reporter</th>
<th align="left">Contributor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://issues.apache.org/jira/browse/HBASE-10921">HBASE-10921</a></td>
<td align="left">Port HBASE-10323 'Auto detect data block encoding in HFileOutputFormat' to 0.94 / 0.96</td>
<td align="left">Major</td>
<td align="left">.</td>
<td align="left">Ted Yu</td>
<td align="left">Kashif</td>
</tr>
</tbody>
</table>
